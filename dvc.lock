schema: '2.0'
stages:
  prepare:
    cmd: python src/prepare.py
    deps:
    - path: data/123
      md5: 7f8d82700ccb746cfb1094158f921d5d.dir
      size: 337798049
      nfiles: 1070
    - path: data/80
      md5: 333712d37e0c5eefcfc0fc7906c94b2d.dir
      size: 203662061
      nfiles: 2596
    - path: src/prepare.py
      md5: 1cd6d98d4fc871bcc33930c7bada64d1
      size: 3935
    outs:
    - path: data/prepared
      md5: 83f541b742f10a1b5b8216ff7cfecb9d.dir
      size: 190700
      nfiles: 3
  train:
    cmd: python src/train.py
    deps:
    - path: cfg/obj.names
      md5: d863f386f6c521fe47f546c0c5150a4b
      size: 183
    - path: cfg/yolo.cfg
      md5: 0c2cfe8c0488bed920c2a5a16177aeda
      size: 2791
    - path: data/prepared
      md5: 83f541b742f10a1b5b8216ff7cfecb9d.dir
      size: 190700
      nfiles: 3
    - path: data/prepared/obj.data
      md5: d8b7f6151df7b0daf566693e1448c7c1
      size: 305
    - path: src/train.py
      md5: 5731778a7457b8f644776852f8863a06
      size: 1570
    outs:
    - path: runs/train/backup/yolo_best.weights
      md5: e1fae1ec91454e05ad30cc120f6d3789
      size: 34862076
  make_json:
    cmd: python src/make_json.py
    deps:
    - path: cfg/obj.names
      md5: d863f386f6c521fe47f546c0c5150a4b
      size: 183
    - path: cfg/yolo.cfg
      md5: 0c2cfe8c0488bed920c2a5a16177aeda
      size: 2791
    - path: data/prepared/obj.data
      md5: d8b7f6151df7b0daf566693e1448c7c1
      size: 305
    - path: runs/train/backup/yolo_best.weights
      md5: e1fae1ec91454e05ad30cc120f6d3789
      size: 34862076
    - path: src/make_json.py
      md5: ee66bb1e3c3754ddfbcd12d2a056b92e
      size: 1073
    outs:
    - path: runs/eval/result.json
      md5: 836be0a282d7a0a5f578a2cebbbac03f
      size: 262206
  prepare_gt:
    cmd: python src/make_gt_det.py
    deps:
    - path: cfg/obj.names
      md5: d863f386f6c521fe47f546c0c5150a4b
      size: 183
    - path: data/prepared/valid.txt
      md5: 40bc28077f8dff3bbbc7eb188143fbb1
      size: 38327
    - path: runs/eval/result.json
      md5: 836be0a282d7a0a5f578a2cebbbac03f
      size: 262206
    - path: src/make_gt_det.py
      md5: 94f916ad43fc83516cb44a042067b373
      size: 901
    outs:
    - path: runs/eval/pascalvoc_det
      md5: 494d4c055fc721199e7a17aad415a48b.dir
      size: 33064
      nfiles: 579
    - path: runs/eval/pascalvoc_gt
      md5: a837476d8e265f24893780ab87a7e054.dir
      size: 32528
      nfiles: 579
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: runs/eval/pascalvoc_det
      md5: 494d4c055fc721199e7a17aad415a48b.dir
      size: 33064
      nfiles: 579
    - path: runs/eval/pascalvoc_gt
      md5: a837476d8e265f24893780ab87a7e054.dir
      size: 32528
      nfiles: 579
    outs:
    - path: runs/eval/results/axle.json
      md5: c57be98d404b0127afe561ad0714999f
      size: 33222
    - path: runs/eval/results/bus.json
      md5: 0226de0692c8fb76fd38f37396933376
      size: 1681
    - path: runs/eval/results/car.json
      md5: 81ea2e0cbd6b1648dd8e6bdb4cd6070d
      size: 5665
    - path: runs/eval/results/car_carrier.json
      md5: 3670f7f06a89091b52d96f86ec78b154
      size: 278
    - path: runs/eval/results/car_carrier_trailer.json
      md5: 430b1eebdbd4413f510d7e2b9f1c261b
      size: 452
    - path: runs/eval/results/dump_truck_body.json
      md5: 905f0deed0f5b8ad119b650f07a39c30
      size: 365
    - path: runs/eval/results/pickup.json
      md5: d278f8ffbb421556213487ae4b33a8be
      size: 107
    - path: runs/eval/results/platform_trailer.json
      md5: 75cc6888a1cae541fe7bb741690c5e00
      size: 366
    - path: runs/eval/results/results.csv
      md5: 6f90b9eff652dca4daa953266a27a463
      size: 1161
    - path: runs/eval/results/tank_trailer.json
      md5: 5babd43c8f06de7c3a74d70cbfb22db0
      size: 26
    - path: runs/eval/results/trailer.json
      md5: 275069e0b4a9d9977f69c37fea557381
      size: 10483
    - path: runs/eval/results/trailer.png
      md5: beb01cf2bc69d4b883a0f8060f9d75e0
      size: 23576
    - path: runs/eval/results/truck.json
      md5: b6c08de3233c3d381b930345ca8e0d00
      size: 20441
    - path: runs/eval/results/truck_cabin.json
      md5: 571bf1bdd032595d7d76f445649bb5e2
      size: 14637
    - path: runs/eval/results/van.json
      md5: c941a3d80a93f51262633b022e567174
      size: 17
  remove_small_boxes:
    cmd: python src/darknet_train_helper/remove_all_small_boxes.py
    deps:
    - path: params.yaml
      md5: b80aa8de1ba9fa7d2c7bf522ccdc1bd4
      size: 1098
    - path: paths.yaml
      md5: 47979cef8f4a2e878541435039666baf
      size: 693
    - path: src/darknet_train_helper/remove_all_small_boxes.py
      md5: 5a037535492528d6f6b1bf5d245f859f
      size: 2197
