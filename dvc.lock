schema: '2.0'
stages:
  prepare:
    cmd: python src/darknet_train_helper/remove_all_small_boxes.py && python src/prepare.py
      && python src/check_datasets.py && python src/featurizer.py
    deps:
    - path: cfg/yolo.cfg
      md5: af72dccebb7166806e89df98e63455b5
      size: 2695
    - path: src/prepare.py
      md5: 9cd45de7a40e1650124b121edfb05e28
      size: 4412
    params:
      params.yaml:
        prepare.batch: 64
        prepare.burn_in: 1000
        prepare.channels: 3
        prepare.classes:
        - truck_cabin
        - tank_trailer
        - car_carrier
        - car_trailer
        - car_carrier_trailer
        - trailer
        - platform_trailer
        - car
        - motorcycle
        - bus
        - truck
        - pickup
        - axle
        - unknown
        - van
        - dump_truck_body
        - service_vehicle
        - drawbar
        - grill
        - windshield
        prepare.datasets:
        - 80
        - 81
        - 82
        - 115
        - 116
        - 118
        - 123
        - 149
        - 283
        - 284
        - 287
        - 288
        - 290
        - 298
        - 299
        - 300
        - 301
        - 302
        - 303
        - 234
        - 146
        - 242
        - 309
        - 310
        - 311
        - 312
        - 313
        - 314
        - 291
        - 294
        - 304
        - 305
        - 306
        - 307
        - 308
        - 296
        - empty_31
        - empty_36
        - empty_37
        - empty_39
        - empty_41
        prepare.decay: 0.0005
        prepare.height: 416
        prepare.learning_rate: 0.01
        prepare.max_batches: 400000
        prepare.momentum: 0.9
        prepare.policy: sgdr
        prepare.remove_small_boxes: true
        prepare.scales: 2.0,2.0,0.5,0.5,0.1,2.0,2.0,0.5,0.5,0.1,2.0,2.0,0.5,0.5,0.1,2.0,2.0,0.5,0.5,0.1,2.0,2.0,0.5,0.5,0.1,2.0,2.0,0.5,0.5,0.1,2.0,2.0,0.5,0.5,0.1,2.0,2.0,0.5,0.5,0.1,2.0,2.0,0.5,0.5
        prepare.seed: 0
        prepare.steps: 917,10090,19263,28435,37608,46781,55953,65126,74299,83471,92644,101816,110989,120162,129334,138507,147680,156852,166025,175198,184370,193543,202716,211888,221061,230234,239406,248579,257752,266924,276097,285270,294442,303615,312788,321960,331133,340306,349478,358651,367824,376996,386169,395341
        prepare.subdivisions: 2
        prepare.thresh: 0.5
        prepare.train_size: 0.8
        prepare.use_default_train_valid: true
        prepare.width: 416
    outs:
    - path: data/prepared
      md5: ed71bef886e6f4cb3d61e5dc3e7bb511.dir
      size: 2144271
      nfiles: 3
  train:
    cmd: python src/train.py
    deps:
    - path: cfg/obj.names
      md5: 8675ae2aa4f38533d1cc9c175de3d498
      size: 200
    - path: cfg/yolo.cfg
      md5: af72dccebb7166806e89df98e63455b5
      size: 2695
    - path: data/prepared
      md5: ed71bef886e6f4cb3d61e5dc3e7bb511.dir
      size: 2144271
      nfiles: 3
    - path: data/prepared/obj.data
      md5: fa750f0061b824c99b5a9c9fed691c8b
      size: 157
    - path: src/train.py
      md5: 193e4c0e1e484d31977cc5f708e8be41
      size: 1562
    outs:
    - path: runs/train/backup
      md5: 1a276c5e739c528c1a75cc22d6461ed4.dir
      size: 74316
      nfiles: 1
  make_json:
    cmd: python src/make_json.py
    deps:
    - path: cfg/obj.names
      md5: 8675ae2aa4f38533d1cc9c175de3d498
      size: 200
    - path: cfg/yolo.cfg
      md5: af72dccebb7166806e89df98e63455b5
      size: 2695
    - path: data/prepared/obj.data
      md5: fa750f0061b824c99b5a9c9fed691c8b
      size: 157
    - path: runs/train/backup
      md5: c628888de949f8518c00198be90886b1.dir
      size: 104715984
      nfiles: 4
    - path: src/make_json.py
      md5: ee66bb1e3c3754ddfbcd12d2a056b92e
      size: 1073
    outs:
    - path: runs/eval/result.json
      md5: ee2da63e5b2b78a500305cee471edd63
      size: 7448486
